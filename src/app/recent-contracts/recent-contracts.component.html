<div class="recentContractsSection" style="border-radius: 0 0 1rem 1rem">
  <!-- Modal -->
  <div
    class="modal fade"
    id="exampleModalLong"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLongTitle"
    aria-hidden="true"
    style="width: 100vw; height: 100vh; background-color: rgba(0, 0, 0, 0.5)"
  >
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">
            Recently Created Rental Contracts
          </h5>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body" style="overflow-y: scroll; height: 30rem">
          <app-view-all-recent-contracts-comp></app-view-all-recent-contracts-comp>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="viewAttachementsModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="viewAttachementsModalTitle"
    aria-hidden="true"
    style="width: 100vw; height: 100vh; background-color: rgba(0, 0, 0, 0.5)"
  >
    <div class="modal-dialog modal-xl" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5
            class="modal-title"
            id="viewAttachementsModalTitle"
            style="font-size: 1rem; font-weight: 600"
          >
            Attachements
          </h5>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div
          class="modal-body"
          style="background-color: #f4f7f9; padding: 0 !important"
        >
          <app-view-attachements-component></app-view-attachements-component>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal">
            Ok
          </button>
        </div>
      </div>
    </div>
  </div>

  <div
    class="modal fade"
    id="createContractModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="viewAttachementsModalTitle"
    aria-hidden="true"
    style="width: 100vw; height: 100vh; background-color: rgba(0, 0, 0, 0.5)"
  >
    <div class="modal-dialog modal-xl" role="document">
      <div
        class="modal-content"
        style="background-color: transparent; border: none"
      >
        <div
          class="modal-body"
          style="padding: 0 !important; border-radius: 5rem !important"
        >
          <app-create-rental-contract></app-create-rental-contract>
        </div>
      </div>
    </div>
  </div>

  <div
    class="mat-elevation-z3"
    style="border-radius: 0 0 1rem 1rem"
    [ngClass]="modalOpen ? 'tableBlurred' : ''"
  >
    <div class="tableTop" style="border-radius: 0 0 1rem 1rem">
      <div class="setionHeader"></div>
      <input
        style="display: none"
        class="searchbar"
        (keyup)="applyFilter($event)"
        placeholder="Ex. Test1"
        #input
      />
      <div class="btn-group" role="group" aria-label="Basic example">
        <button
          type="button"
          class="btn btn-secondary"
          matTooltip="Delete Row"
          matTooltipPosition="below"
        >
          <mat-icon class="sideNav-link-icon">delete</mat-icon>
        </button>
        <button
          type="button"
          matRipple
          class="btn btn-secondary"
          (click)="getRecentContracts()"
          matTooltip="Refresh"
          matTooltipPosition="below"
        >
          <mat-icon class="sideNav-link-icon">refresh</mat-icon>
        </button>
        <button type="button" class="btn btn-secondary">
          <mat-icon
            class="sideNav-link-icon"
            matTooltip="Create Contract"
            matTooltipPosition="below"
            data-toggle="modal"
            data-target="#createContractModal"
            >edit_square</mat-icon
          >
        </button>
        <button
          type="button"
          class="btn btn-secondary"
          matTooltip="{{viewSingleRecord}}"
          matTooltipPosition="below"
        >
          <mat-icon
            class="sideNav-link-icon"
            data-toggle="modal"
            data-target="#exampleModalLong"
            >fullscreen</mat-icon
          >
        </button>
        <button type="button" class="btn btn-secondary">
          <mat-icon class="sideNav-link-icon">lists</mat-icon>
        </button>
        <button
          type="button"
          class="btn btn-secondary"
          matTooltip="Download"
          matTooltipPosition="below"
        >
          <mat-icon class="sideNav-link-icon">download</mat-icon>
        </button>
      </div>
    </div>

    <table
      mat-table
      [dataSource]="dataSource"
      matSort
      class="table custom-table"
    >
      <ng-container matColumnDef="select">
        <th
          class="tblheader"
          mat-header-cell
          *matHeaderCellDef
          class="tableTh"
          style="background-color: #ececec; border: none; width: max-content"
        >
          <input type="checkbox" name="" id="" style="height: 100%" />
        </th>
        <td mat-cell *matCellDef="let row">
          <input
            type="checkbox"
            name=""
            id=""
            (click)="toggleViewSingleRecord()"
          />
        </td>
      </ng-container>

      <!-- ID Column -->
      <ng-container matColumnDef="tRcno">
        <th class="tblheader" mat-header-cell *matHeaderCellDef>
          <div class="fcol2">
            <span class="thHeader" mat-sort-header>Contract</span>
            <input
              class="searchbar"
              (keyup)="applyFilter($event)"
              #input
              style="border: none; width: 100%"
            />
          </div>
        </th>
        <td mat-cell *matCellDef="let row">{{ row.tRcno }}</td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="tMcod">
        <th class="tblheader" mat-header-cell *matHeaderCellDef>
          <div class="fcol2">
            <span class="thHeader" mat-sort-header>Equipment</span>
            <input
              class="searchbar"
              (keyup)="applyFilter($event)"
              #input
              style="border: none; width: 100%"
            />
          </div>
        </th>
        <td mat-cell *matCellDef="let row">{{ row.tMcod }}</td>
      </ng-container>

      <!-- Description Column -->
      <ng-container matColumnDef="tDsca">
        <th class="tblheader" mat-header-cell *matHeaderCellDef>
          <div class="fcol2">
            <span class="thHeader" mat-sort-header>Description</span>
            <input
              class="searchbar"
              (keyup)="applyFilter($event)"
              #input
              style="border: none; width: 100%"
            />
          </div>
        </th>
        <td mat-cell *matCellDef="let row">{{ row.tDsca }}</td>
      </ng-container>

      <!-- Warehouse Column -->
      <ng-container matColumnDef="tIwar">
        <th
          class="tblheader"
          mat-header-cell
          *matHeaderCellDef
          style="padding-right: 5px; width: 10%"
        >
          <div class="fcol2">
            <span class="thHeader" mat-sort-header>Warehouse</span>
            <input
              class="searchbar"
              (keyup)="applyFilter($event)"
              #input
              style="border: none; width: 100%"
            />
          </div>
        </th>
        <td mat-cell *matCellDef="let row">{{ row.tIwar }}</td>
      </ng-container>

      <!-- Status Column -->
      <ng-container matColumnDef="tCsta">
        <th
          class="tblheader"
          mat-header-cell
          *matHeaderCellDef
          style="padding-right: 5px; width: 10%"
        >
          <div class="fcol2">
            <span class="thHeader" mat-sort-header>Status</span>
            <input
              class="searchbar"
              (keyup)="applyFilter($event)"
              #input
              style="border: none; width: 100%"
            />
          </div>
        </th>
        <td mat-cell *matCellDef="let row">
          <ng-container *ngIf="row.tCsta !== 10; else open">
            <div
              style="
                width: 80%;
                height: max-content;
                background-color: rgb(217, 253, 229);
                color: rgb(29, 215, 91);
                border: 1px solid rgb(29, 215, 91);
                border-radius: 0.2rem;
                padding: 0 1rem;
              "
            >
              Active
            </div>
          </ng-container>
          <ng-template #open>
            <div
              style="
                width: 80%;
                height: max-content;
                background-color: rgb(208, 238, 253);
                color: rgb(39, 168, 233);
                border: 1px solid rgb(39, 168, 233);
                border-radius: 0.2rem;
                padding: 0 1rem;
              "
            >
              Open
            </div>
          </ng-template>
        </td>
      </ng-container>

      <!-- Documents Column -->
      <ng-container matColumnDef="documents">
        <th
          class="tblheader"
          mat-header-cell
          *matHeaderCellDef
          style="width: 3%"
        >
          <div class="fcol2">
            <span class="thHeader" mat-sort-header style="border: none"
              >Docs</span
            >
          </div>
        </th>
        <td mat-cell *matCellDef="let row">
          <!-- <button type="button" class="btn btn-primary" (click)="toggleModalOpen()">
            Launch demo modal
          </button> -->
          <mat-icon
            style="
              cursor: pointer;
              width: 70%;
              color: rgb(125, 118, 207);
              font-size: 1rem;
              text-align: center;
            "
            matTooltip="View Attachements"
            matTooltipPosition="after"
            data-toggle="modal"
            data-target="#viewAttachementsModal"
            >visibility</mat-icon
          >
          <!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" (click)="toggleModalOpen()">
            Launch demo modal
          </button> -->
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">
          No data matching the filter "{{ input.value }}"
        </td>
      </tr>
    </table>

    <mat-paginator
      [pageSizeOptions]="[5]"
      hidePageSize="true"
      aria-label="Select page of users"
      style="
        border-radius: 0 0 0.5rem 0.5rem !important;
        color: rgb(125, 118, 207);
      "
    ></mat-paginator>
  </div>
</div>
